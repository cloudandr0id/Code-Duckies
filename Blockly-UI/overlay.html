<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Visual Programming for Duckietown Autonomous Robots</title>
  <script src="https://unpkg.com/blockly/blockly.min.js"></script>
  <script src=customBlocks/moveBot.js></script>
  <script src="http://static.robotwebtools.org/EventEmitter2/current/eventemitter2.min.js"></script>
  <script src="http://static.robotwebtools.org/roslibjs/current/roslib.min.js"></script>
  <link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.indigo-pink.min.css">
  <link rel="stylesheet" href="styles/index.css">
</head>
<body>
  <header>
    <h1>Programming Area</h1>
  </header>
  <!--- Settings menu --->
  <div class="settingDropdown">
    <button id="settingDropBtn">Settings</button>
      <ul id="dropdown">
          <li id="saveBlocks">Save Project</li>
          <li id="importProject">Import Project </li>
            <ul id="fileSelector">
              <li><input type="file" id="fileName" hidden="hidden" ></li>
              <li><button id="importWorkspace">Import from file</button></li>
              <li><span id="custom-text">Choose a saved workspace</span></li>
            </ul>
          <li><a href="index.html">Reset Connection - For Instructor Only</a></li>
      </ul>
  </div>

  <!--- Buttons for start and stop --->
  <div class="startStopButtons">
    <button id="startbutton">Start</button>
    <button id="stopbutton">Stop</button>
  </div>


  <!--- Area for blockly workspace --->
  <div id="blocklyDiv" style="height: 100%; width: 100%"></div>


  <!--- toolbox --->
  <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
    <!--- basic categories --->
    <category name="Logic" colour="%{BKY_LOGIC_HUE}">
      <block type="controls_if"></block>
      <block type="controls_if">
        <mutation else="1"></mutation>
      </block>
      <block type="controls_if">
        <mutation elseif="1" else="1"></mutation>
      </block>
      <block type="logic_compare"></block>
      <block type="logic_operation"></block>
      <block type="logic_negate"></block>
      <block type="logic_boolean"></block>
      <block type="logic_null"></block>
      <block type="logic_ternary"></block>
    </category>
    <category name="Loops" colour="%{BKY_LOOPS_HUE}">
      <block type="controls_repeat_ext">
        <value name="TIMES">
          <block type="math_number">
            <field name="NUM">10</field>
          </block>
        </value>
      </block>
      <block type="controls_whileUntil"></block>
      <block type="controls_for">
        <field name="VAR">i</field>
        <value name="FROM">
          <block type="math_number">
            <field name="NUM">1</field>
          </block>
        </value>
        <value name="TO">
          <block type="math_number">
            <field name="NUM">10</field>
          </block>
        </value>
        <value name="BY">
          <block type="math_number">
            <field name="NUM">1</field>
          </block>
        </value>
      </block>
      <block type="controls_forEach"></block>
      <block type="controls_flow_statements"></block>
    </category>
    <category name="Math" colour="%{BKY_MATH_HUE}">
      <block type="math_number">
        <field name="NUM">666</field>
      </block>
      <block type="math_arithmetic"></block>
      <block type="math_single"></block>
      <block type="math_trig"></block>
      <block type="math_constant"></block>
      <block type="math_number_property"></block>
      <block type="math_round"></block>
      <block type="math_on_list"></block>
      <block type="math_modulo"></block>
      <block type="math_constrain">
        <value name="LOW">
          <block type="math_number">
            <field name="NUM">1</field>
          </block>
        </value>
        <value name="HIGH">
          <block type="math_number">
            <field name="NUM">100</field>
          </block>
        </value>
      </block>
      <block type="math_random_int">
        <value name="FROM">
          <block type="math_number">
            <field name="NUM">1</field>
          </block>
        </value>
        <value name="TO">
          <block type="math_number">
            <field name="NUM">100</field>
          </block>
        </value>
      </block>
      <block type="math_random_float"></block>
      <block type="math_atan2"></block>
    </category>
    <category name="Variables" custom="VARIABLE" colour="%{BKY_VARIABLES_HUE}">
    </category>
    <category name="Functions" custom="PROCEDURE" colour="%{BKY_PROCEDURES_HUE}">
    </category>
    <!--- category for debugging, will not be in final product--->
    <category name="Text" colour="%{BKY_TEXTS_HUE}">
      <block type="text_print">
        <value name="TEXT">
          <shadow type="text">
            <field name="TEXT">abc</field>
          </shadow>
        </value>
      </block>
    </category>

    <!--- duckietown blocks--->
    <sep></sep>
    <category name="Duckietown" colour="172">
      <block type="movebot"></block>
    </category>
  </xml>

  <script src="scripts/main.js"></script>

</body>
</html>
